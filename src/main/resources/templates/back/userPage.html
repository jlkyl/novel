<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="../easyui/jquery.min.js"></script>
    <script type="text/javascript" src="../easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="../easyui/myvalidate.js"></script>
    <link rel="stylesheet" type="text/css" href="../easyui/themes/material/easyui.css">
    <link rel="stylesheet" type="text/css" href="../easyui/themes/icon.css">

    <script type="text/javascript">
        $(function() {
            // 初始化datagrid数据表格
            $("#tb").datagrid({
                width: "100%",
                url: '/user/pageList',
                fitColumns: true, // 列宽自适应
                singleSelect: true,// 当行选中
                pagination:true,
                pageList: [5, 10, 15, 20],
                pageSize: 5,
                toolbar:'#toolbar',
                columns: [
                    [
                        {field: 'userid', width: 50, title: '编号'},
                        {field: 'username', width: 100, title: '用户名'},
                        {field: 'sex', width: 50, title: '性别'},
                        {field: 'phone', width: 80, title: '手机号'},
                        {field: 'money', width: 50, title: '余额'},
                        {field: 'ticked', width: 50, title: '票数'},
                        {field: 'vip', width: 50, title: 'VIP等级'},
                        {field: 'sign', width: 80, title: '签名'},
                        {
                            field: 'author',
                            width: 60,
                            title : '身份',
                            formatter : function(value,row,index){
                                if(value=='1'){
                                    return '作家'
                                }
                                else if(value=='0'){
                                    return '普通用户'
                                }
                            }
                        },
                        {field: 'pen', width: 80, title: '笔名'},
                        {field: 'realname', width: 60, title: '真实姓名'},
                        {field: 'email', width: 120, title: '邮箱'},
                        {field: 'idcard', width: 120, title: '身份证号'},
                        {field: 'expmoney', width: 50, title: '收入'}
                    ]
                ]
            });
        });
        function find(){
            $('#tb').datagrid('load',{
                username: $("#username").textbox("getValue"),
                phone: $("#phone").textbox("getValue"),
                author: $("#author").combobox("getValue")
            });
        }
    </script>
</head>
<body>
    <table id="tb"></table>
    <div id="toolbar" style="padding:2px;height:auto">
        <div style="margin:5px">
            用户名: <input class="easyui-textbox" style="width:150px" id="username">
            手机号: <input class="easyui-textbox" style="width:150px" id="phone">
            身份：<select id="author" class="easyui-combobox" style="width:100px" data-options="editable:false">
                    <option value="10">全部</option>
                    <option value="0">普通用户</option>
                    <option value="1">作家</option>
                </select>
            <a href="javascript:find()" class="easyui-linkbutton" iconCls="icon-search">查询</a>
        </div>
    </div>
</body>
</html>